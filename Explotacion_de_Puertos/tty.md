# tty (TeleTYpewriter)

### Multiples comandos para la reparacion de una terminal una vez a sido establecida la coneccion

<br>

[ ! ] si se tiene alguna duda en un parametro se invita a investigar utilizando desde terminal:

```bash
man <herramienta>
```

<br>

## Tratamiento con bash

- 1-Terminal **victima** en una conexion establecida:

```bash
script /dev/null -c bash
```

<br>

- 2-Atajo de teclas:

```bash
<ctrl + z>
```

<br>

- 3-Terminal **atacante** para restablecer la conexion:

```bash
stty raw -echo; fg
```

<br>

- 4-Sesion interactiva con netcat a continuar:

```bash
# [1]  + continued  nc -nlvp 443
                             :reset
# reset: unknown terminal type unknown
# Terminal type?
                :xterm
```

<br>

- 5-Terminal **victima** una ves restablecida la conexion:

```bash
export TERM=xterm
```

```bash
export SHELL=bash
```

<br>

- 6-Para el ajuste de pantalla ejecutar el siguiente comando en la terminal **atacante**:
  
```bash
stty size
# ejemplo: 30 128 <-- copiar lo que te aparezca para el paso 7
```

<br>

- 7-Terminal **victima** para el ajuste de tama単o en pantalla

```bash
stty rows 30 columns 128
# Escribirlo en el orden que fue copiado y pegado
# <!> es independiente el tama単o de ejemplo a tu pantalla 
```


<br>

## Tratamiento con python

<br>

[ ! ] Los siguientes comandos solo se aplican cuando la sesion interactiva no acepta atajos de teclado o comandos de una tty comun con bash.

-----

- 1-Terminal **Victima** en una conexion establecida:

```bash
export TERM=xterm
```

```bash
export SHELL=bash
```

```bash
python -c "import pty; pty.spawn('/bin/bash')"
```

<br>

- 2-Para el ajuste de pantalla ejecutar el siguiente comando en la terminal **atacante**:
  
```bash
stty size
# ejemplo: 30 128 
```

<br>

- 3-Terminal **victima** para el ajuste de tama単o en pantalla

```bash
stty rows 30 columns 128
# Escribirlo en el orden que fue copiado y pegado
# <!> es independiente el tama単o de ejemplo a tu pantalla 
```
